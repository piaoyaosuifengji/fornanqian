C51 COMPILER V9.00   PWM»_µç¿Ø_Æ                                                           06/26/2012 10:09:27 PAGE 1   


C51 COMPILER V9.00, COMPILATION OF MODULE PWM»_µç¿Ø_Æ
OBJECT MODULE PLACED IN PWM»úµç¿ØÖÆ.OBJ
COMPILER INVOKED BY: C:\Keil\C51\BIN\C51.EXE PWM»úµç¿ØÖÆ.c BROWSE DEBUG OBJECTEXTEND

line level    source

   1          #include<reg51.h>                  
   2          //#include<absacc.h>                
   3          //#include <intrins.h>           
   4          /********×Ô¶¨Òå±äÁ¿********/
   5          #define uint unsigned int      //×Ô¶¨Òå±äÁ¿
   6          #define uchar unsigned char    
   7          uchar f=5; //¼ÆÊýµÄ´ÎÊý
   8          sbit  P10=P1^0;    //PWMÊä³ö²¨ÐÎ1
   9          sbit  P11=P1^1;    //PWMÊä³ö²¨ÐÎ2
  10          sbit  P12=P1^2;    //Õý·´×ª
  11          sbit  P13=P1^3;    //¼ÓËÙ
  12          sbit  P14=P1^4;   //¼õËÙ
  13          sbit  P15=P1^5;   //Í£Ö¹
  14          sbit  P16=P1^6;   //Æô¶¯
  15          sbit  P20=P2^0;   //ÕýµÆ
  16          sbit  P21=P2^1;   //·´µÆ
  17          sbit  P22=P2^2;   //Í£µÆ
  18          sbit  P23=P2^3;   //ÆôµÆ
  19          uchar k=0;      //Õý·´×ª±êÖ¾
  20          uchar t=0;   //Âö³å¼Ó¼õ
  21          /***************LEDÏÔÊ¾****************/
  22          void display()
  23          {
  24   1        if(k==0) {P20=0;P21=1;}
  25   1        else {P20=1;P21=0;}
  26   1        if(IE==0x8a){P22=1;P23=0;}
  27   1        else {P22=0;P23=1;}
  28   1      }
  29          /****************°´¼üÉ¨Ãè**************/
  30          void key()
  31          {
  32   1      if(P12==0)              //Èç¹û°´ÏÂ£¬
  33   1              {
  34   2               while(P12==0)    //È¥¶¶¶¯
  35   2               display(); 
  36   2               k=~k;
  37   2              }         
  38   1      if(P16==0)     //Æô¶¯
  39   1              {
  40   2              while(P16==0)
  41   2              display();
  42   2              IE=0x8a;
  43   2              }         
  44   1      if(P13==0)         //¼ÓËÙ
  45   1              {
  46   2              while (P13==0)
  47   2              display();
  48   2              t++;
  49   2              }
  50   1              if(t>=5)
  51   1              t=5;
  52   1      if(P14==0)  //¼õËÙ
  53   1              {
  54   2              while(P14==0)
  55   2              display();
C51 COMPILER V9.00   PWM»_µç¿Ø_Æ                                                           06/26/2012 10:09:27 PAGE 2   

  56   2              t--;
  57   2              }
  58   1              if(t<1)
  59   1              t=1;
  60   1      if(P15==0)             //Í£Ö¹
  61   1              {
  62   2              while(P15==0)
  63   2              display();
  64   2              EA=0;
  65   2              P10=0;
  66   2              P11=0;
  67   2              }       
  68   1      }
  69          /***************Ö÷º¯Êý********************/
  70          void main ()
  71          {       
  72   1              TMOD=0x01;      //T0·½Ê½1¶¨Ê±   
  73   1              TH0=0xb1;          //×°Èë³õÖµ     20MS
  74   1              TL0=0xe0;
  75   1              TR0=1;       //Æô¶¯t0
  76   1              while(1)        
  77   1               {
  78   2                      display(); //ÊýÂë¹ÜÏÔÊ¾ 
  79   2                      key();
  80   2               }
  81   1      }       
  82          /*********t0¶¨Ê±*ÖÐ¶Ïº¯Êý*************/
  83          void t0() interrupt 1 using 1
  84          {
  85   1              TH0=0xec;  //ÖØ×°t0
  86   1              TL0=0xe0;
  87   1              f--;
  88   1              if(k==0)
  89   1              {
  90   2                if(f<t)
  91   2                {P10=1;
  92   3                P11=0;}
  93   2                else  
  94   2                P10=0;        
  95   2                P11=0;
  96   2               }
  97   1              else  
  98   1              {
  99   2                      if(f<t)
 100   2                      {P10=0;
 101   3                      P11=1;}
 102   2                      else 
 103   2                      P11=0;
 104   2                      P10=0;
 105   2              }
 106   1              if(f==0)
 107   1                      {
 108   2                      f=5;
 109   2                      }  
 110   1      }


MODULE INFORMATION:   STATIC OVERLAYABLE
   CODE SIZE        =    204    ----
   CONSTANT SIZE    =   ----    ----
   XDATA SIZE       =   ----    ----
   PDATA SIZE       =   ----    ----
C51 COMPILER V9.00   PWM»_µç¿Ø_Æ                                                           06/26/2012 10:09:27 PAGE 3   

   DATA SIZE        =      3    ----
   IDATA SIZE       =   ----    ----
   BIT SIZE         =   ----    ----
END OF MODULE INFORMATION.


C51 COMPILATION COMPLETE.  0 WARNING(S),  0 ERROR(S)
